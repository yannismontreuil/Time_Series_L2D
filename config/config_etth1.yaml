plot_shift: 1
plot_target: y
plot_synth_preview: true
transition_log:
  enabled: true
  print: false
  precision: 4
  stride: 1
  print_wlin_blin: false
  plot: true
  plot_show: true
  plot_save: true
  plot_na: true
  online_only: true
  plot_only_ours: true
  plot_entropy: true
environment:
  data_source: etth1
  csv_path: data/ETTh1.csv
  target_column: OT
  enabled_experts:
  - ar1_low_var
  - ar1_high_var
  - nn_early
  - nn_late
  - ar2_segment1
  - ar2_segment2
  num_experts: 6
  num_regimes: 4
  state_dim: 1
  seed: 42
  data_seed: 11
  unavailable_expert_idx:
  - 2
  unavailable_intervals:
  - - 5000
    - 10000
  arrival_expert_idx:
  - 4
  - 5
  arrival_intervals:
  - - 5000
    - 6000
  - - 9000
    - 10000
  analysis_window: 500
  analysis_adoption_threshold: 0.5
routers:
  beta: 0.0
  staleness_threshold: null
  factorized_slds:
    enabled: true
    num_regimes: 4
    shared_dim: 2
    idiosyncratic_dim: 1
    delta_max: 10000
    R_scalar: 0.0009
    A_g:
    - - - 0.997
        - 0.0
      - - 0.0
        - 0.995
    - - - 0.995
        - 0.0
      - - 0.0
        - 0.992
    - - - 0.992
        - 0.0
      - - 0.0
        - 0.988
    - - - 0.988
        - 0.0
      - - 0.0
        - 0.982
    A_u:
    - - - 0.995
    - - - 0.99
    - - - 0.985
    - - - 0.98
    Q_g:
    - - - 0.002
        - 0.0
      - - 0.0
        - 0.0005
    - - - 0.004
        - 0.0
      - - 0.0
        - 0.001
    - - - 0.008
        - 0.0
      - - 0.0
        - 0.002
    - - - 0.015
        - 0.0
      - - 0.0
        - 0.004
    Q_u:
    - - - 0.002
    - - - 0.005
    - - - 0.01
    - - - 0.02
    Q_u_scales:
    - 0.002
    - 0.005
    - 0.01
    - 0.02
    exploration:
    - g_z
    exploration_diag_enabled: true
    exploration_diag_stride: 200
    exploration_diag_samples: 50
    exploration_diag_print: true
    em_enabled: true
    em_offline_full_feedback: true
    em_tk: 5000
    em_n: 5
    em_samples: 10
    em_burn_in: 10
    em_use_validation: true
    em_val_strategy: rolling
    em_val_fraction: 0.5
    em_val_roll_len: 500
    em_val_roll_splits: 4
    em_val_roll_stride: null
    em_val_len: null
    em_theta_lr: 0.001
    em_theta_steps: 10
    em_print_val_loss: true
    em_eps_n: 0.001
    em_online_enabled: true
    em_online_window: 1000
    em_online_period: 500
    em_online_n: 1
    em_online_samples: 20
    em_online_burn_in: 5
    em_online_theta_lr: 0.001
    em_online_theta_steps: 1
    em_online_eps_n: 0.001
    em_online_print_val_loss: true
    em_online_start_t: null
    transition_mode: attention
    seed: 41
baselines:
  l2d:
    arch: mlp
    learning_rate: 0.001
    hidden_dim: 4
    window_size: 1
    alpha: 1.0
    beta: null
  l2d_sw:
    arch: rnn
    learning_rate: 0.001
    hidden_dim: 4
    window_size: 200
    alpha: 1.0
    beta: null
  linucb:
    alpha_ucb: 5
    l2_reg: 1.0
    feedback_mode: partial
  neural_ucb:
    alpha_ucb: 5
    lambda_reg: 1.0
    hidden_dim: 16
    nn_learning_rate: 0.001
    feedback_mode: partial
analysis:
  baselines_train_from_start: true
  tri_cycle_corr:
    enabled: false
    router: factorized_full
    out_dir: out/etth1
    show_plots: false
    save_plots: true
    save_png: true
    save_pdf: true
    pairs:
    - - 0
      - 1
    - - 2
      - 3
    - - 4
      - 5
    corr_smooth_window: 25
    transfer_probe:
      enabled: true
      target_expert: 1
      source_expert: 0
      compare_no_g: true
      show_truth: true
    expert_structure_baselines: true
  pruning:
    enabled: true
    expert_idx: 1
    rolling_window: 100
    out_dir: out/etth1/pruning
    show_plots: false
    save_plots: true
    save_png: true
    save_pdf: true
